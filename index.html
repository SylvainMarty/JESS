<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>J.E.S.S.</title>

    <link rel="stylesheet" href="node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="node_modules/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="src/static/css/style.css">
  </head>
  <body>
      <div id="app">
          <div class="container-fluid">
            <h1>J.E.S.S.</h1>

            <p class="help-block">
                Welcome on J.E.S.S., the Jekyll Embedded Simple Server !<br>
                <a href="config.html">Configuration</a>
            </p>

            <div class="row">
                <div class="col-xs-12 col-sm-6 col-sm-offset-3">
                    <a href="#" @click="goToBrowser('http://localhost:4000')" v-if="states.serverStarted" style="margin-top: 30px;" class="btn btn-info btn-block"><i class="fa fa-open"></i>&nbsp; Open in browser</a>
                </div>
            </div>

            <div class="row" style="margin-top: 15px; margin-bottom: 30px;">
                <div class="col-xs-12">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-sm-offset-3">
                            <div class="form-group" v-if="!states.serverStarted">
                                <label for="jekyll-directory-input"></label>
                                <input class="form-control" type="file" webkitdirectory directory @change="changeServerDirectory"/>
                                <p class="help-block">Select the root directory of your Jekyll project.</p>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-xs-12 col-sm-6 col-sm-offset-3">
                            <button v-if="!states.serverStarted" @click="startServer()" title="Start Jekyll" class="btn btn-success btn-block"><i class="fa fa-power-off"></i>&nbsp; Start Jekyll</button>
                            <button v-if="states.serverStarted" @click="stopServer()" title="Stop Jekyll" class="btn btn-danger btn-block"><i class="fa fa-power-off"></i>&nbsp; Stop Jekyll</button>
                        </div>
                    </div>
                </div>
            </div>

            <h2>Logs</h2>
            <div class="hightlight">
                <ul>
                    <li v-for="(log,key) in logs" v-html="log"></li>
                </ul>
            </div>
          </div>
      </div>
  </body>

  <script>
    // You can also require other files to run in this process
    require('./src/app/index.js')
  </script>
</html>
